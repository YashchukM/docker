FROM centos:7

ARG JRE_PLATFORM=x64
ARG JRE_VERSION_UPDATE=152
ARG JRE_VERSION_BUILD=b16
ARG JRE_VERSION=1.8.0_${JRE_VERSION_UPDATE}
ARG JDK_DETAIL_VERSION=8u${JRE_VERSION_UPDATE}-${JRE_VERSION_BUILD}
ARG JRE_ARTIFACT=jre-8u${JRE_VERSION_UPDATE}-linux-${JRE_PLATFORM}.tar.gz

ARG JRE_ARTIFACT_PATH=/tmp/${JRE_ARTIFACT}
ARG JAVA_HOME=/opt/jre-${JRE_VERSION}

ARG JRE_URL="http://download.oracle.com/otn-pub/java/jdk/${JDK_DETAIL_VERSION}/aa0333dd3019491ca4f6ddbe78cdb6d0/${JRE_ARTIFACT}"

COPY ["required", "/tmp"]

RUN chmod +x /tmp/setup.sh && /tmp/setup.sh

ENV JAVA_HOME=${JAVA_HOME} PATH="${PATH}:${JAVA_HOME}/bin"
